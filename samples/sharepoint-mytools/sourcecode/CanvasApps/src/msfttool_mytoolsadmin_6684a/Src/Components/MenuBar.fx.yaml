MenuBar As CanvasComponent:
    DefaultSelectedItem: =
    ExpandImageColor: ="Text"
    ExpandMenu: =false
    Fill: =RGBA(0, 0, 0, 0)
    Height: =640
    ItemTextColor: =RGBA(0, 0, 0, 1)
    MenuItems: |-
        =Table(
           {
                MenuItemTitle: "All Tools",
                MenuItemImage: "data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23ffffff%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M18.4923%202.33088L21.671%205.50966C22.5497%206.38834%2022.5497%207.81296%2021.671%208.69164L19.0866%2011.2756C20.1696%2011.438%2021%2012.3723%2021%2013.5006V18.7506C21%2019.9932%2019.9926%2021.0006%2018.75%2021.0006H5.25C4.00736%2021.0006%203%2019.9932%203%2018.7506V5.25055C3%204.00791%204.00736%203.00055%205.25%203.00055H10.5C11.6289%203.00055%2012.5637%203.83201%2012.7253%204.91596L15.3103%202.33088C16.189%201.45221%2017.6136%201.45221%2018.4923%202.33088ZM4.5%2018.7506C4.5%2019.1648%204.83579%2019.5006%205.25%2019.5006L11.249%2019.4999L11.25%2012.7506L4.5%2012.7499V18.7506ZM12.749%2019.4999L18.75%2019.5006C19.1642%2019.5006%2019.5%2019.1648%2019.5%2018.7506V13.5006C19.5%2013.0863%2019.1642%2012.7506%2018.75%2012.7506L12.749%2012.7499V19.4999ZM10.5%204.50055H5.25C4.83579%204.50055%204.5%204.83634%204.5%205.25055V11.2499H11.25V5.25055C11.25%204.83634%2010.9142%204.50055%2010.5%204.50055ZM12.75%209.30988V11.2506L14.69%2011.2499L12.75%209.30988ZM16.3709%203.39154L13.1922%206.57032C12.8993%206.86321%2012.8993%207.33808%2013.1922%207.63098L16.3709%2010.8097C16.6638%2011.1026%2017.1387%2011.1026%2017.4316%2010.8097L20.6104%207.63098C20.9033%207.33808%2020.9033%206.86321%2020.6104%206.57032L17.4316%203.39154C17.1387%203.09865%2016.6638%203.09865%2016.3709%203.39154Z%22%20fill%3D%22%23ffffff%22%20%2F%3E%0A%3C%2Fsvg%3E",
                MenuItemScreen: 'All Tools Screen'
            },
              {
                MenuItemTitle: "Manage tools",
                MenuItemImage: "data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M6.24788%2016.0021C7.21437%2016.0021%207.99788%2016.7856%207.99788%2017.7521V20.25C7.99788%2021.2165%207.21437%2022%206.24788%2022H3.75C2.7835%2022%202%2021.2165%202%2020.25V17.7521C2%2016.7856%202.7835%2016.0021%203.75%2016.0021H6.24788ZM6.24788%2017.5021H3.75C3.61193%2017.5021%203.5%2017.6141%203.5%2017.7521V20.25C3.5%2020.3881%203.61193%2020.5%203.75%2020.5H6.24788C6.38595%2020.5%206.49788%2020.3881%206.49788%2020.25V17.7521C6.49788%2017.6141%206.38595%2017.5021%206.24788%2017.5021ZM9.74809%2018H21.2529C21.6671%2018%2022.0029%2018.3358%2022.0029%2018.75C22.0029%2019.1297%2021.7207%2019.4435%2021.3547%2019.4932L21.2529%2019.5H9.74809C9.33388%2019.5%208.99809%2019.1642%208.99809%2018.75C8.99809%2018.3703%209.28025%2018.0565%209.64632%2018.0068L9.74809%2018H21.2529H9.74809ZM6.24788%209.00106C7.21437%209.00106%207.99788%209.78456%207.99788%2010.7511V13.2489C7.99788%2014.2154%207.21437%2014.9989%206.24788%2014.9989H3.75C2.7835%2014.9989%202%2014.2154%202%2013.2489V10.7511C2%209.78456%202.7835%209.00106%203.75%209.00106H6.24788ZM6.24788%2010.5011H3.75C3.61193%2010.5011%203.5%2010.613%203.5%2010.7511V13.2489C3.5%2013.387%203.61193%2013.4989%203.75%2013.4989H6.24788C6.38595%2013.4989%206.49788%2013.387%206.49788%2013.2489V10.7511C6.49788%2010.613%206.38595%2010.5011%206.24788%2010.5011ZM9.74809%2011H21.2529C21.6671%2011%2022.0029%2011.3358%2022.0029%2011.75C22.0029%2012.1297%2021.7207%2012.4435%2021.3547%2012.4932L21.2529%2012.5H9.74809C9.33388%2012.5%208.99809%2012.1642%208.99809%2011.75C8.99809%2011.3703%209.28025%2011.0565%209.64632%2011.0068L9.74809%2011H21.2529H9.74809ZM6.24788%202C7.21437%202%207.99788%202.7835%207.99788%203.75V6.24788C7.99788%207.21437%207.21437%207.99788%206.24788%207.99788H3.75C2.7835%207.99788%202%207.21437%202%206.24788V3.75C2%202.7835%202.7835%202%203.75%202H6.24788ZM6.24788%203.5H3.75C3.61193%203.5%203.5%203.61193%203.5%203.75V6.24788C3.5%206.38595%203.61193%206.49788%203.75%206.49788H6.24788C6.38595%206.49788%206.49788%206.38595%206.49788%206.24788V3.75C6.49788%203.61193%206.38595%203.5%206.24788%203.5ZM9.74809%204H21.2529C21.6671%204%2022.0029%204.33579%2022.0029%204.75C22.0029%205.1297%2021.7207%205.44349%2021.3547%205.49315L21.2529%205.5H9.74809C9.33388%205.5%208.99809%205.16421%208.99809%204.75C8.99809%204.3703%209.28025%204.05651%209.64632%204.00685L9.74809%204H21.2529H9.74809Z%22%20fill%3D%22%23ffffff%22%20%2F%3E%0A%3C%2Fsvg%3E",
                MenuItemScreen: 'Manage Tools Screen'
            },
            {
                MenuItemTitle: "Create tool",
                MenuItemImage: "data:image/svg+xml,%3Csvg%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M10.5%203C11.7426%203%2012.75%204.00736%2012.75%205.25V11.25H18.75C19.9926%2011.25%2021%2012.2574%2021%2013.5V18.75C21%2019.9926%2019.9926%2021%2018.75%2021H5.25C4.00736%2021%203%2019.9926%203%2018.75V5.25C3%204.00736%204.00736%203%205.25%203H10.5ZM11.25%2012.75H4.5V18.75C4.5%2019.1642%204.83579%2019.5%205.25%2019.5H11.249L11.25%2012.75ZM18.75%2012.75H12.749V19.5H18.75C19.1642%2019.5%2019.5%2019.1642%2019.5%2018.75V13.5C19.5%2013.0858%2019.1642%2012.75%2018.75%2012.75ZM10.5%204.5H5.25C4.83579%204.5%204.5%204.83579%204.5%205.25V11.25H11.25V5.25C11.25%204.83579%2010.9142%204.5%2010.5%204.5ZM17.8982%202.00685L18%202C18.3797%202%2018.6935%202.28215%2018.7432%202.64823L18.75%202.75V5.25H21.25C21.6297%205.25%2021.9435%205.53215%2021.9932%205.89823L22%206C22%206.3797%2021.7178%206.69349%2021.3518%206.74315L21.25%206.75H18.75V9.25C18.75%209.6297%2018.4678%209.94349%2018.1018%209.99315L18%2010C17.6203%2010%2017.3065%209.71785%2017.2568%209.35177L17.25%209.25V6.75H14.75C14.3703%206.75%2014.0565%206.46785%2014.0068%206.10177L14%206C14%205.6203%2014.2822%205.30651%2014.6482%205.25685L14.75%205.25H17.25V2.75C17.25%202.3703%2017.5322%202.05651%2017.8982%202.00685Z%22%20fill%3D%22%23ffffff%22%20%2F%3E%0A%3C%2Fsvg%3E",
                MenuItemScreen: 'Tool Screen'
            }
        )
    OnExpandSelect: ="Text"
    OnMenuItemSelect: =App.ActiveScreen
    OnReset: =
    SelectedIndicatorFill: |-
        =ColorValue("#6C63AA")
    SelectedItem: =galMenu.Selected
    SelectedScreen: =galMenu.Selected.MenuItemScreen
    Width: =500
    X: =0
    Y: =0
    ZIndex: =3

    galMenu As gallery.galleryVertical:
        Default: =LookUp(MenuBar.MenuItems,MenuItemTitle = MenuBar.DefaultSelectedItem.MenuItemTitle)
        Items: =MenuBar.MenuItems
        Layout: =Layout.Vertical
        OnSelect: =MenuBar.OnMenuItemSelect()
        TemplateSize: =60
        Width: =Parent.Width
        Y: =imgExpand.Y + imgExpand.Height + 10
        ZIndex: =1

        imgMenuItemImg As image:
            Height: =25
            Image: =ThisItem.MenuItemImage
            OnSelect: =Select(Parent)
            Tooltip: =ThisItem.MenuItemTitle & " image"
            Width: =25
            X: =15
            Y: =Parent.TemplateHeight / 2 - Self.Height / 2
            ZIndex: =1

        shpSelected As rectangle:
            Fill: =MenuBar.SelectedIndicatorFill
            Height: =imgMenuItemImg.Height
            OnSelect: =Select(Parent)
            Tooltip: =ThisItem.MenuItemTitle & " selected"
            Visible: =ThisItem.IsSelected
            Width: =2
            Y: =Parent.TemplateHeight / 2 - Self.Height / 2
            ZIndex: =2

        lblMenuItem As label:
            Color: =MenuBar.ItemTextColor
            Font: =Font.'Segoe UI'
            OnSelect: =Select(Parent)
            Size: =12
            Text: =ThisItem.MenuItemTitle
            Tooltip: =Self.Text
            Visible: =MenuBar.ExpandMenu
            Width: =200
            X: =imgMenuItemImg.X + imgMenuItemImg.Width + 10
            Y: =Parent.TemplateHeight / 2 - Self.Height / 2
            ZIndex: =3

    imgExpand As image:
        Height: =35
        Image: |-
            ="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%202048%202048%22%20fill%3D%22%23" & MenuBar.ExpandImageColor &  "%22%3E%0A%20%20%3Cpath%20d%3D%22M0%201536v-128h1280v128H0zm0-640h2048v128H0V896zm1664-512v128H0V384h1664z%22%20%2F%3E%0A%3C%2Fsvg%3E"
        OnSelect: =MenuBar.OnExpandSelect()
        Tooltip: ="Expand menu"
        Width: =35
        X: =15
        Y: =25
        ZIndex: =2

    shpMenuBarSeparator As rectangle:
        Fill: =RGBA(70,71,117,0.4)
        Height: =Parent.Height
        Tooltip: ="Menu bar separator"
        Width: =2
        X: =Parent.Width - Self.Width
        ZIndex: =3

